<html>
    <head>
      <script type="text/javascript" src="string-handling.js" ></script>
    <script>
      var openFile = function(event) {
        var input = event.target;

        var reader = new FileReader();
        reader.onload = function(){
          var str = reader.result;
          var chapArray = str.toLowerCase().split(/chapter/);
          var chapters = new Array(chapArray.length);
          
          chapArray.forEach(function (element, index, array) {
            chapters[index] = element.replace(/[^a-zA-Z '\n]/g, '').split(/\s+/);
          })
          
          var node = document.getElementById('output');
          //node.innerText = "Chapter One array: " + chapters[1];
          var strArray = chapters[1];
         countWords(strArray);

          
        };
        reader.readAsText(input.files[0]);

        
      };
    </script>
    </head>
    <body>
    <input type='file' accept='text/plain' onchange='openFile(event)'><br>
    <div id='output'>
    </div>
    <div id='output2'></div>
    <div id='words'>
    </div>
    </body>
    </html>